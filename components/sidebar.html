<div class="flex flex-col w-64 bg-white h-screen border-r border-slate-200 sticky top-0 overflow-y-auto">
    <div class="p-6">
        <h1 class="text-xl font-bold text-[#5c56f1] flex items-center gap-2">
            <span class="w-8 h-8 bg-[#5c56f1] rounded-lg flex items-center justify-center text-white text-xs">S</span>
            Sale Support
        </h1>
    </div>

    <nav class="flex-1 px-4 space-y-2">
        <a href="dashboard.html" class="flex items-center gap-3 p-4 text-slate-600 hover:bg-indigo-50 hover:text-[#5c56f1] rounded-2xl transition group">
            <span>üè†</span> <span class="font-medium">Dashboard</span>
        </a>
        <a href="profile.html" class="flex items-center gap-3 p-4 text-slate-600 hover:bg-indigo-50 hover:text-[#5c56f1] rounded-2xl transition">
            <span>üë§</span> <span class="font-medium">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</span>
        </a>

        <div id="admin-menu-group" class="hidden pt-6">
            <p class="px-4 text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2">Admin Control</p>
            <a href="manage-tickets.html" class="flex items-center gap-3 p-4 text-slate-600 hover:bg-indigo-50 hover:text-[#5c56f1] rounded-2xl transition">
                <span>üé´</span> <span class="font-medium">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Ticket</span>
            </a>
            <a href="user-management.html" class="flex items-center gap-3 p-4 text-slate-600 hover:bg-indigo-50 hover:text-[#5c56f1] rounded-2xl transition">
                <span>üë•</span> <span class="font-medium">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</span>
            </a>
            <a href="settings.html" class="flex items-center gap-3 p-4 text-slate-600 hover:bg-indigo-50 hover:text-[#5c56f1] rounded-2xl transition">
                <span>‚öôÔ∏è</span> <span class="font-medium">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏õ‡∏±‡∏ç‡∏´‡∏≤</span>
            </a>
        </div>
    </nav>

    <div class="p-4 border-t border-slate-100">
        <button onclick="logout()" class="w-full flex items-center gap-3 p-4 text-red-400 hover:bg-red-50 rounded-2xl transition font-bold">
            <span>üö™</span> ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
        </button>
    </div>
</div>

<script type="module">
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
    import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

    const auth = getAuth();
    const db = getFirestore();

    onAuthStateChanged(auth, async (user) => {
        if (user) {
            // ‡∏î‡∏∂‡∏á Role ‡∏à‡∏≤‡∏Å Collection "admin" ‡∏ï‡∏≤‡∏° UID
            const userDoc = await getDoc(doc(db, "admin", user.uid));
            if (userDoc.exists()) {
                const userData = userDoc.data();
                // ‡∏ñ‡πâ‡∏≤ Role ‡πÄ‡∏õ‡πá‡∏ô admin ‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏ô‡∏π Admin Control
                if (userData.role === 'admin') {
                    document.getElementById('admin-menu-group').classList.remove('hidden');
                }
            }
        }
    });
</script>
